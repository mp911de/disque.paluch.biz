<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_40) on Mon Jan 04 18:58:01 CET 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>QueueListenerFactory (spinach 0.3-SNAPSHOT API)</title>
<meta name="date" content="2016-01-04">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="QueueListenerFactory (spinach 0.3-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/QueueListenerFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../biz/paluch/spinach/cluster/NodeIdAwareSocketAddressSupplier.html" title="class in biz.paluch.spinach.cluster"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.GetJobsBuilder.html" title="class in biz.paluch.spinach.cluster"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?biz/paluch/spinach/cluster/QueueListenerFactory.html" target="_top">Frames</a></li>
<li><a href="QueueListenerFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">biz.paluch.spinach.cluster</div>
<h2 title="Class QueueListenerFactory" class="title">Class QueueListenerFactory&lt;K,V&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>biz.paluch.spinach.cluster.QueueListenerFactory&lt;K,V&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">QueueListenerFactory&lt;K,V&gt;</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Cluster-aware Job listener. This listener emits <a href="../../../../biz/paluch/spinach/api/Job.html" title="class in biz.paluch.spinach.api"><code>jobs</code></a> by listening on one or multiple
 queues by using an observable subject. Instances are designed to be long-living objects. A <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a> can
 keep track of the originating cluster node. If the majority of received jobs originate from a node to which the client is not
 connected to, the <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a> tries to switch the server to minimize latency.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href="mailto:mpaluch@paluch.biz">Mark Paluch</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.GetJobsBuilder.html" title="class in biz.paluch.spinach.cluster">QueueListenerFactory.GetJobsBuilder</a></span></code>
<div class="block">Builder for the getjobs Queue Listener <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html?is-external=true" title="class or interface in rx"><code>Observable</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.LocalityTrackingGetJobsBuilder.html" title="class in biz.paluch.spinach.cluster">QueueListenerFactory.LocalityTrackingGetJobsBuilder</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html#DEFAULT_COUNT">DEFAULT_COUNT</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html#DEFAULT_TIMEOUT">DEFAULT_TIMEOUT</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html#DEFAULT_TIMEOUT_UNIT">DEFAULT_TIMEOUT_UNIT</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html#QueueListenerFactory-biz.paluch.spinach.DisqueClient-rx.Scheduler-biz.paluch.spinach.DisqueURI-com.lambdaworks.redis.codec.RedisCodec-K:A-">QueueListenerFactory</a></span>(<a href="../../../../biz/paluch/spinach/DisqueClient.html" title="class in biz.paluch.spinach">DisqueClient</a>&nbsp;disqueClient,
                    <a href="http://reactivex.io/RxJava/javadoc/rx/Scheduler.html?is-external=true" title="class or interface in rx">Scheduler</a>&nbsp;scheduler,
                    <a href="../../../../biz/paluch/spinach/DisqueURI.html" title="class in biz.paluch.spinach">DisqueURI</a>&nbsp;disqueURI,
                    com.lambdaworks.redis.codec.RedisCodec&lt;<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">K</a>,<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">V</a>&gt;&nbsp;codec,
                    <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">K</a>[]&nbsp;queues)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html#QueueListenerFactory-rx.Scheduler-biz.paluch.spinach.DisqueURI-com.lambdaworks.redis.codec.RedisCodec-K:A-">QueueListenerFactory</a></span>(<a href="http://reactivex.io/RxJava/javadoc/rx/Scheduler.html?is-external=true" title="class or interface in rx">Scheduler</a>&nbsp;scheduler,
                    <a href="../../../../biz/paluch/spinach/DisqueURI.html" title="class in biz.paluch.spinach">DisqueURI</a>&nbsp;disqueURI,
                    com.lambdaworks.redis.codec.RedisCodec&lt;<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">K</a>,<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">V</a>&gt;&nbsp;codec,
                    <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">K</a>[]&nbsp;queues)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;K,V&gt;&nbsp;<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster">QueueListenerFactory</a>&lt;K,V&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html#create-biz.paluch.spinach.DisqueClient-rx.Scheduler-biz.paluch.spinach.DisqueURI-com.lambdaworks.redis.codec.RedisCodec-K...-">create</a></span>(<a href="../../../../biz/paluch/spinach/DisqueClient.html" title="class in biz.paluch.spinach">DisqueClient</a>&nbsp;disqueClient,
      <a href="http://reactivex.io/RxJava/javadoc/rx/Scheduler.html?is-external=true" title="class or interface in rx">Scheduler</a>&nbsp;scheduler,
      <a href="../../../../biz/paluch/spinach/DisqueURI.html" title="class in biz.paluch.spinach">DisqueURI</a>&nbsp;disqueURI,
      com.lambdaworks.redis.codec.RedisCodec&lt;K,V&gt;&nbsp;codec,
      K...&nbsp;queues)</code>
<div class="block">Create a new <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static &lt;K,V&gt;&nbsp;<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster">QueueListenerFactory</a>&lt;K,V&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html#create-biz.paluch.spinach.DisqueURI-com.lambdaworks.redis.codec.RedisCodec-K...-">create</a></span>(<a href="../../../../biz/paluch/spinach/DisqueURI.html" title="class in biz.paluch.spinach">DisqueURI</a>&nbsp;disqueURI,
      com.lambdaworks.redis.codec.RedisCodec&lt;K,V&gt;&nbsp;codec,
      K...&nbsp;queues)</code>
<div class="block">Create a new <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static &lt;K,V&gt;&nbsp;<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster">QueueListenerFactory</a>&lt;K,V&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html#create-rx.Scheduler-biz.paluch.spinach.DisqueURI-com.lambdaworks.redis.codec.RedisCodec-K...-">create</a></span>(<a href="http://reactivex.io/RxJava/javadoc/rx/Scheduler.html?is-external=true" title="class or interface in rx">Scheduler</a>&nbsp;scheduler,
      <a href="../../../../biz/paluch/spinach/DisqueURI.html" title="class in biz.paluch.spinach">DisqueURI</a>&nbsp;disqueURI,
      com.lambdaworks.redis.codec.RedisCodec&lt;K,V&gt;&nbsp;codec,
      K...&nbsp;queues)</code>
<div class="block">Create a new <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html?is-external=true" title="class or interface in rx">Observable</a>&lt;<a href="../../../../biz/paluch/spinach/api/Job.html" title="class in biz.paluch.spinach.api">Job</a>&lt;<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">K</a>,<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">V</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html#getjobs--">getjobs</a></span>()</code>
<div class="block">Get jobs from the specified queues.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html?is-external=true" title="class or interface in rx">Observable</a>&lt;<a href="../../../../biz/paluch/spinach/api/Job.html" title="class in biz.paluch.spinach.api">Job</a>&lt;<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">K</a>,<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">V</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html#getjobs-long-java.util.concurrent.TimeUnit-long-">getjobs</a></span>(long&nbsp;timeout,
       <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;timeUnit,
       long&nbsp;count)</code>
<div class="block">Get jobs from the specified queues.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html#shutdown--">shutdown</a></span>()</code>
<div class="block">Shut down the <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a> and close all open connections.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html#shutdown-long-long-java.util.concurrent.TimeUnit-">shutdown</a></span>(long&nbsp;quietPeriod,
        long&nbsp;timeout,
        <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;timeUnit)</code>
<div class="block">Shut down the <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a> and close all open connections.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html#switchNodes--">switchNodes</a></span>()</code>
<div class="block">Initiates a node switch if neccessary for all produced listeners by this <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a>.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.LocalityTrackingGetJobsBuilder.html" title="class in biz.paluch.spinach.cluster">QueueListenerFactory.LocalityTrackingGetJobsBuilder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html#withLocalityTracking--">withLocalityTracking</a></span>()</code>
<div class="block">Create a new GetJobsBuilder with enabled locality tracking.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_TIMEOUT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_TIMEOUT</h4>
<pre>public static final&nbsp;int DEFAULT_TIMEOUT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#biz.paluch.spinach.cluster.QueueListenerFactory.DEFAULT_TIMEOUT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="DEFAULT_TIMEOUT_UNIT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_TIMEOUT_UNIT</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a> DEFAULT_TIMEOUT_UNIT</pre>
</li>
</ul>
<a name="DEFAULT_COUNT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_COUNT</h4>
<pre>public static final&nbsp;int DEFAULT_COUNT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#biz.paluch.spinach.cluster.QueueListenerFactory.DEFAULT_COUNT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="QueueListenerFactory-rx.Scheduler-biz.paluch.spinach.DisqueURI-com.lambdaworks.redis.codec.RedisCodec-java.lang.Object:A-">
<!--   -->
</a><a name="QueueListenerFactory-rx.Scheduler-biz.paluch.spinach.DisqueURI-com.lambdaworks.redis.codec.RedisCodec-K:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>QueueListenerFactory</h4>
<pre>protected&nbsp;QueueListenerFactory(<a href="http://reactivex.io/RxJava/javadoc/rx/Scheduler.html?is-external=true" title="class or interface in rx">Scheduler</a>&nbsp;scheduler,
                               <a href="../../../../biz/paluch/spinach/DisqueURI.html" title="class in biz.paluch.spinach">DisqueURI</a>&nbsp;disqueURI,
                               com.lambdaworks.redis.codec.RedisCodec&lt;<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">K</a>,<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">V</a>&gt;&nbsp;codec,
                               <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">K</a>[]&nbsp;queues)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>scheduler</code> - the scheduler for blocking operations, must not be null</dd>
<dd><code>disqueURI</code> - the URI, must not be null</dd>
<dd><code>codec</code> - use this codec to encode/decode keys and values, must not be null</dd>
<dd><code>queues</code> - queue names to listen on, must not be null and not empty</dd>
</dl>
</li>
</ul>
<a name="QueueListenerFactory-biz.paluch.spinach.DisqueClient-rx.Scheduler-biz.paluch.spinach.DisqueURI-com.lambdaworks.redis.codec.RedisCodec-java.lang.Object:A-">
<!--   -->
</a><a name="QueueListenerFactory-biz.paluch.spinach.DisqueClient-rx.Scheduler-biz.paluch.spinach.DisqueURI-com.lambdaworks.redis.codec.RedisCodec-K:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>QueueListenerFactory</h4>
<pre>protected&nbsp;QueueListenerFactory(<a href="../../../../biz/paluch/spinach/DisqueClient.html" title="class in biz.paluch.spinach">DisqueClient</a>&nbsp;disqueClient,
                               <a href="http://reactivex.io/RxJava/javadoc/rx/Scheduler.html?is-external=true" title="class or interface in rx">Scheduler</a>&nbsp;scheduler,
                               <a href="../../../../biz/paluch/spinach/DisqueURI.html" title="class in biz.paluch.spinach">DisqueURI</a>&nbsp;disqueURI,
                               com.lambdaworks.redis.codec.RedisCodec&lt;<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">K</a>,<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">V</a>&gt;&nbsp;codec,
                               <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">K</a>[]&nbsp;queues)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>disqueClient</code> - a shared client instance. Creates a new client instance if null</dd>
<dd><code>scheduler</code> - the scheduler for blocking operations, must not be null</dd>
<dd><code>disqueURI</code> - the URI, must not be null</dd>
<dd><code>codec</code> - use this codec to encode/decode keys and values, must not be null</dd>
<dd><code>queues</code> - queue names to listen on, must not be null and not empty</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="create-biz.paluch.spinach.DisqueURI-com.lambdaworks.redis.codec.RedisCodec-java.lang.Object:A-">
<!--   -->
</a><a name="create-biz.paluch.spinach.DisqueURI-com.lambdaworks.redis.codec.RedisCodec-K...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public static&nbsp;&lt;K,V&gt;&nbsp;<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster">QueueListenerFactory</a>&lt;K,V&gt;&nbsp;create(<a href="../../../../biz/paluch/spinach/DisqueURI.html" title="class in biz.paluch.spinach">DisqueURI</a>&nbsp;disqueURI,
                                                     com.lambdaworks.redis.codec.RedisCodec&lt;K,V&gt;&nbsp;codec,
                                                     K...&nbsp;queues)</pre>
<div class="block">Create a new <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a>. The default <a href="http://reactivex.io/RxJava/javadoc/rx/schedulers/Schedulers.html?is-external=true#io--" title="class or interface in rx.schedulers"><code>Schedulers.io()</code></a> scheduler is used for listener
 notification and I/O operations.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - Key type</dd>
<dd><code>V</code> - Value type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>disqueURI</code> - the DisqueURI</dd>
<dd><code>codec</code> - use this codec to encode/decode keys and values, must note be null</dd>
<dd><code>queues</code> - the queue names</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new instance of <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a></dd>
</dl>
</li>
</ul>
<a name="create-rx.Scheduler-biz.paluch.spinach.DisqueURI-com.lambdaworks.redis.codec.RedisCodec-java.lang.Object:A-">
<!--   -->
</a><a name="create-rx.Scheduler-biz.paluch.spinach.DisqueURI-com.lambdaworks.redis.codec.RedisCodec-K...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public static&nbsp;&lt;K,V&gt;&nbsp;<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster">QueueListenerFactory</a>&lt;K,V&gt;&nbsp;create(<a href="http://reactivex.io/RxJava/javadoc/rx/Scheduler.html?is-external=true" title="class or interface in rx">Scheduler</a>&nbsp;scheduler,
                                                     <a href="../../../../biz/paluch/spinach/DisqueURI.html" title="class in biz.paluch.spinach">DisqueURI</a>&nbsp;disqueURI,
                                                     com.lambdaworks.redis.codec.RedisCodec&lt;K,V&gt;&nbsp;codec,
                                                     K...&nbsp;queues)</pre>
<div class="block">Create a new <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a>. The provided <code>scheduler</code> is used for listener notification and I/O
 operations.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - Key type</dd>
<dd><code>V</code> - Value type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>scheduler</code> - a scheduler from rxjava for I/O operations</dd>
<dd><code>disqueURI</code> - the DisqueURI</dd>
<dd><code>codec</code> - use this codec to encode/decode keys and values, must note be null</dd>
<dd><code>queues</code> - the queue names</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new instance of <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a></dd>
</dl>
</li>
</ul>
<a name="create-biz.paluch.spinach.DisqueClient-rx.Scheduler-biz.paluch.spinach.DisqueURI-com.lambdaworks.redis.codec.RedisCodec-java.lang.Object:A-">
<!--   -->
</a><a name="create-biz.paluch.spinach.DisqueClient-rx.Scheduler-biz.paluch.spinach.DisqueURI-com.lambdaworks.redis.codec.RedisCodec-K...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>create</h4>
<pre>public static&nbsp;&lt;K,V&gt;&nbsp;<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster">QueueListenerFactory</a>&lt;K,V&gt;&nbsp;create(<a href="../../../../biz/paluch/spinach/DisqueClient.html" title="class in biz.paluch.spinach">DisqueClient</a>&nbsp;disqueClient,
                                                     <a href="http://reactivex.io/RxJava/javadoc/rx/Scheduler.html?is-external=true" title="class or interface in rx">Scheduler</a>&nbsp;scheduler,
                                                     <a href="../../../../biz/paluch/spinach/DisqueURI.html" title="class in biz.paluch.spinach">DisqueURI</a>&nbsp;disqueURI,
                                                     com.lambdaworks.redis.codec.RedisCodec&lt;K,V&gt;&nbsp;codec,
                                                     K...&nbsp;queues)</pre>
<div class="block">Create a new <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a>. The provided <code>scheduler</code> is used for listener notification and I/O
 operations.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - Key type</dd>
<dd><code>V</code> - Value type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>disqueClient</code> - a shared client instance for reuse</dd>
<dd><code>scheduler</code> - a scheduler from rxjava for I/O operations, must not be null</dd>
<dd><code>disqueURI</code> - the DisqueURI</dd>
<dd><code>codec</code> - use this codec to encode/decode keys and values, must note be null</dd>
<dd><code>queues</code> - the queue names</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new instance of <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a></dd>
</dl>
</li>
</ul>
<a name="getjobs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getjobs</h4>
<pre>public&nbsp;<a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html?is-external=true" title="class or interface in rx">Observable</a>&lt;<a href="../../../../biz/paluch/spinach/api/Job.html" title="class in biz.paluch.spinach.api">Job</a>&lt;<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">K</a>,<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">V</a>&gt;&gt;&nbsp;getjobs()</pre>
<div class="block">Get jobs from the specified queues. By default COUNT is 1, so just one job will be returned. A default TIMEOUT of 10
 MILLISECONDS is used to enable graceful connection shutdown.
 <p>
 When there are jobs in more than one of the queues, the command guarantees to return jobs in the order the queues are
 specified. If COUNT allows more jobs to be returned, queues are scanned again and again in the same order popping more
 elements.
 </p>
 <p>
 The <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html?is-external=true" title="class or interface in rx"><code>Observable</code></a> emits <a href="../../../../biz/paluch/spinach/api/Job.html" title="class in biz.paluch.spinach.api"><code>Job</code></a> objects as soon as a job is received from Disque. The terminal event is emitted
 as soon as the <a href="http://reactivex.io/RxJava/javadoc/rx/Subscriber.html?is-external=true" title="class or interface in rx"><code>subscriber</code></a> unsubscribes from the <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html?is-external=true" title="class or interface in rx"><code>Observable</code></a>.
 </p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an Observable that emits <a href="../../../../biz/paluch/spinach/api/Job.html" title="class in biz.paluch.spinach.api"><code>Job</code></a> elements until the subscriber terminates the subscription</dd>
</dl>
</li>
</ul>
<a name="getjobs-long-java.util.concurrent.TimeUnit-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getjobs</h4>
<pre>public&nbsp;<a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html?is-external=true" title="class or interface in rx">Observable</a>&lt;<a href="../../../../biz/paluch/spinach/api/Job.html" title="class in biz.paluch.spinach.api">Job</a>&lt;<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">K</a>,<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="type parameter in QueueListenerFactory">V</a>&gt;&gt;&nbsp;getjobs(long&nbsp;timeout,
                                    <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;timeUnit,
                                    long&nbsp;count)</pre>
<div class="block">Get jobs from the specified queues.

 <p>
 When there are jobs in more than one of the queues, the command guarantees to return jobs in the order the queues are
 specified. If COUNT allows more jobs to be returned, queues are scanned again and again in the same order popping more
 elements.
 </p>
 <p>
 The <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html?is-external=true" title="class or interface in rx"><code>Observable</code></a> emits <a href="../../../../biz/paluch/spinach/api/Job.html" title="class in biz.paluch.spinach.api"><code>Job</code></a> objects as soon as a job is received from Disque. The terminal event is emitted
 as soon as the <a href="http://reactivex.io/RxJava/javadoc/rx/Subscriber.html?is-external=true" title="class or interface in rx"><code>subscriber</code></a> unsubscribes from the <a href="http://reactivex.io/RxJava/javadoc/rx/Observable.html?is-external=true" title="class or interface in rx"><code>Observable</code></a>.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeout</code> - timeout to wait</dd>
<dd><code>timeUnit</code> - timeout unit</dd>
<dd><code>count</code> - count of jobs to return</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an Observable that emits <a href="../../../../biz/paluch/spinach/api/Job.html" title="class in biz.paluch.spinach.api"><code>Job</code></a> elements until the subscriber terminates the subscription</dd>
</dl>
</li>
</ul>
<a name="withLocalityTracking--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withLocalityTracking</h4>
<pre>public&nbsp;<a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.LocalityTrackingGetJobsBuilder.html" title="class in biz.paluch.spinach.cluster">QueueListenerFactory.LocalityTrackingGetJobsBuilder</a>&nbsp;withLocalityTracking()</pre>
<div class="block">Create a new GetJobsBuilder with enabled locality tracking.
 <p>
 Locality tracking records statistics about the creating node of a job. If the majority of received jobs originate from a
 different node, the client should consider moving off the current node to the node which created the jobs. This makes a
 good use of locality.
 </p></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the LocalityTrackingGetJobsBuilder.</dd>
</dl>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()</pre>
<div class="block">Shut down the <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a> and close all open connections. Shared clients are not shut down by this
 method. The instance should be discarded after calling shutdown.</div>
</li>
</ul>
<a name="shutdown-long-long-java.util.concurrent.TimeUnit-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown(long&nbsp;quietPeriod,
                     long&nbsp;timeout,
                     <a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/TimeUnit.html?is-external=true" title="class or interface in java.util.concurrent">TimeUnit</a>&nbsp;timeUnit)</pre>
<div class="block">Shut down the <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a> and close all open connections. Shared clients are not shut down by this
 method. The instance should be discarded after calling shutdown.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>quietPeriod</code> - the quiet period as described in the documentation</dd>
<dd><code>timeout</code> - the maximum amount of time to wait until the executor is shutdown regardless if a task was submitted
        during the quiet period</dd>
<dd><code>timeUnit</code> - the unit of <code>quietPeriod</code> and <code>timeout</code></dd>
</dl>
</li>
</ul>
<a name="switchNodes--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>switchNodes</h4>
<pre>public&nbsp;void&nbsp;switchNodes()</pre>
<div class="block">Initiates a node switch if neccessary for all produced listeners by this <a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.html" title="class in biz.paluch.spinach.cluster"><code>QueueListenerFactory</code></a>.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/QueueListenerFactory.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../biz/paluch/spinach/cluster/NodeIdAwareSocketAddressSupplier.html" title="class in biz.paluch.spinach.cluster"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../biz/paluch/spinach/cluster/QueueListenerFactory.GetJobsBuilder.html" title="class in biz.paluch.spinach.cluster"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?biz/paluch/spinach/cluster/QueueListenerFactory.html" target="_top">Frames</a></li>
<li><a href="QueueListenerFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016. All rights reserved.</small></p>
</body>
</html>